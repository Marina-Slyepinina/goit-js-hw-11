{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst myApiKey = \"49653024-3e206daf7693dc60176f31220\";\n\nexport function getImagesByQuery(query) {\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: myApiKey,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true\n        }\n    })\n\n}   ","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n    const markUp = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <div class=\"card\" id=\"\">\n            <div class=\"card-img\">\n                <a href=${largeImageURL}><img src=${webformatURL} alt=${tags} title=\"\"/></a>\n            </div>\n            <ul class=\"card-info-list\">\n                <li class=\"card-info-item\">\n                    <p class=\"card-info-title\">Likes</p>\n                    <p class=\"card-info-text\">${likes}</p>\n                </li>\n                <li class=\"card-info-item\">\n                    <p class=\"card-info-title\">Views</p>\n                    <p class=\"card-info-text\">${views}</p>\n                </li>\n                <li class=\"card-info-item\">\n                    <p class=\"card-info-title\">Comments</p>\n                    <p class=\"card-info-text\">${comments}</p>\n                </li>\n                <li class=\"card-info-item\">\n                    <p class=\"card-info-title\">Downloads</p>\n                    <p class=\"card-info-text\">${downloads}</p>\n                </li>\n            </ul>\n        </div>`\n    ).join(\"\");\n    gallery.insertAdjacentHTML(\"beforeend\", markUp);\n\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\");\n}\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api\"\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\"\n\nconst form = document.querySelector(\".form\");\nform.addEventListener(\"submit\", handleSubmit);\n\n\nfunction handleSubmit(event) {\n    iziToast.destroy();\n    clearGallery();\n    showLoader()\n    event.preventDefault();\n    \n    \n    const userValue = event.target.elements[\"search-text\"].value.toLowerCase();\n\n    if (userValue.trim() === \"\") {\n        return iziToast.show({message: \"Search query cannot be empty\"});\n    }\n\n    getImagesByQuery(userValue)\n    .then(response => {\n        hideLoader();\n        if (response.data.hits.length) {\n            const arrImg = response.data.hits;\n            createGallery(arrImg);\n            return;\n        }\n        \n        iziToast.show({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            backgroundColor: '#EF4040',\n            position: 'center',\n            messageColor: '#fafafb',\n            messageSize: '16px',\n            progressBarColor: '#b51b1b'\n        });\n    })\n    .catch(error => {\n        iziToast.show({\n            message: error.message,\n            backgroundColor: '#EF4040',\n            position: 'center',\n            messageColor: '#fafafb',\n            messageSize: '16px',\n            progressBarColor: '#b51b1b'\n        });\n    })\n\n    form.reset();\n}"],"names":["myApiKey","getImagesByQuery","query","axios","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markUp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleSubmit","event","iziToast","userValue","response","arrImg","error"],"mappings":"owBAEA,MAAMA,EAAW,qCAEV,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,CAEL,CCZA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA;AAAA,0BAGlFL,CAAa,aAAaD,CAAY,QAAQE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gDAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gDAIRC,CAAS;AAAA;AAAA;AAAA,eAIzD,EAAM,KAAK,EAAE,EACTb,EAAQ,mBAAmB,YAAaM,CAAM,EAE9CJ,EAAS,QAAO,CACpB,CAEO,SAASY,GAAe,CAC3Bd,EAAQ,UAAY,EACxB,CAEO,SAASe,GAAa,CACzBd,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASe,GAAa,CACzBf,EAAO,UAAU,IAAI,QAAQ,CACjC,CC7CA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAY,EAG5C,SAASA,EAAaC,EAAO,CACzBC,EAAS,QAAO,EAChBN,IACAC,EAAY,EACZI,EAAM,eAAc,EAGpB,MAAME,EAAYF,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,cAE7D,GAAIE,EAAU,KAAM,IAAK,GACrB,OAAOD,EAAS,KAAK,CAAC,QAAS,8BAA8B,CAAC,EAGlEvB,EAAiBwB,CAAS,EACzB,KAAKC,GAAY,CAEd,GADAN,IACIM,EAAS,KAAK,KAAK,OAAQ,CAC3B,MAAMC,EAASD,EAAS,KAAK,KAC7BlB,EAAcmB,CAAM,EACpB,MACH,CAEDH,EAAS,KAAK,CACV,QAAS,2EACT,gBAAiB,UACjB,SAAU,SACV,aAAc,UACd,YAAa,OACb,iBAAkB,SAC9B,CAAS,CACT,CAAK,EACA,MAAMI,GAAS,CACZJ,EAAS,KAAK,CACV,QAASI,EAAM,QACf,gBAAiB,UACjB,SAAU,SACV,aAAc,UACd,YAAa,OACb,iBAAkB,SAC9B,CAAS,CACT,CAAK,EAEDP,EAAK,MAAK,CACd"}